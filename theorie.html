<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8" />
  <title>Mediawijsheid – Theorie & applet</title>
  <style>
    body {
      font-family: sans-serif;
      max-width: 900px;
      margin: 20px auto;
      line-height: 1.6;
    }
    header {
      text-align: center;
      margin-bottom: 20px;
    }
    nav {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-bottom: 25px;
      flex-wrap: wrap;
    }
    nav a {
      text-decoration: none;
      color: #004f7a;
      border: 1px solid #004f7a;
      padding: 6px 10px;
      border-radius: 4px;
      font-size: 0.95rem;
    }
    nav a:hover {
      background: #004f7a;
      color: #fff;
    }
    h1, h2 {
      text-align: center;
    }
    .box {
      border: 1px solid #ccc;
      border-radius: 4px;
      padding: 12px 15px;
      margin: 15px 0;
      background: #f7f7f7;
    }
    .applet-intro {
      margin: 20px 0 10px 0;
      padding: 10px;
      border-left: 4px solid #888;
      background: #f5f5f5;
    }
    .controls {
      display: grid;
      grid-template-columns: 1fr 3fr 1fr;
      gap: 6px 10px;
      margin-bottom: 15px;
      align-items: center;
    }
    label {
      text-align: right;
      padding-right: 5px;
    }
    input[type="range"] {
      width: 100%;
    }
    #canvasContainer {
      border: 1px solid #ccc;
      margin-top: 10px;
    }
    #info {
      margin-top: 10px;
      font-weight: bold;
    }
    .value {
      text-align: left;
      font-family: monospace;
    }
    .small-note {
      font-size: 0.9rem;
      color: #444;
    }
    .preset-btn {
      margin-top: 8px;
      padding: 4px 8px;
      border: 1px solid #555;
      background: #fff;
      cursor: pointer;
      border-radius: 4px;
      font-size: 0.9rem;
    }
    .preset-btn:hover {
      background: #eaeaea;
    }
    iframe {
      width: 100%;
      height: 250px;
      border: none;
      margin-top: 10px;
    }
    input[type="checkbox"] {
      transform: scale(1.1);
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <h1>Theorie & interactieve applet</h1>
    <p>Trillingen, demping en misleidende grafieken</p>
  </header>

  <nav>
    <a href="index.html">Introductie</a>
    <a href="theorie.html">Theorie &amp; applet</a>
    <a href="opdracht.html">Opdracht</a>
    <a href="afronding.html">Afronding</a>
  </nav>

  <section class="box">
    <h2>1. Mediawijsheid &amp; grafieken</h2>
    <p>
      Mediawijsheid betekent dat je kritisch en bewust omgaat met informatie uit media.
      Grafieken lijken vaak objectief (“het staat in de data”), maar kunnen toch
      misleidend zijn door:
    </p>
    <ul>
      <li>een afgesneden y-as waardoor verschillen groter lijken;</li>
      <li>het overslaan van meetpunten of periodes;</li>
      <li>het kiezen van een korte of lange tijdsas waardoor een trend heel steil of juist heel plat lijkt;</li>
      <li>het presenteren van alleen een deel van de data.</li>
    </ul>
    <p>
      In deze les gebruik je een natuurkundige context (trillingen en demping), maar het
      doel is juist om kritisch naar grafieken te leren kijken.
    </p>

    <!-- YouTube embed -->
    <iframe 
      src="https://www.youtube.com/embed/E91bGT9BjYk"
      title="YouTube video"
      allowfullscreen>
    </iframe>
  </section>

  <section class="box">
    <h2>2. Trillingen en demping (vakinhoud)</h2>
    <p>
      Een trilling is een beweging rond een evenwichtsstand. Er zijn verschillende soorten:
    </p>
    <ul>
      <li>ongedempt (geen energieverlies, amplitude blijft gelijk);</li>
      <li>onder gedempt (amplitude neemt langzaam af, het systeem trilt nog);</li>
      <li>kritisch gedempt (grensgeval: snel terug naar evenwicht, zonder oscillaties);</li>
      <li>overgedempt (geen trilling, langzaam terug naar evenwicht).</li>
    </ul>
    <p class="small-note">
      Let op: de details van de formules zijn minder belangrijk dan het idee dat je
      met parameters de vorm van de grafiek kunt veranderen.
    </p>
  </section>

  <!-- APPLET -->
  <section id="applet" class="box">
    <h2>3. Interactieve trilling (gedempt / ongedempt)</h2>
    <div class="applet-intro">
      Hoe gebruik je deze applet?<br>
      Met de schuifjes bepaal je de eigenschappen van de trilling. De grafiek laat
      de uitwijking x(t) als functie van de tijd t zien. Zo kun je zien hoe de
      grafiek verandert als je één parameter aanpast.
      <br><br>
      Onder de applet zie je enkele knoppen zoals
      <em>“Laat ongedempte trilling zien”</em>. Daarmee wordt de applet automatisch
      ingesteld op een bepaald type trilling. Daarna kun je zelf verder experimenteren.
    </div>

    <div class="controls">
      <label for="omega">frequentie ω</label>
      <input id="omega" type="range" min="0.1" max="10" step="0.1" value="2">
      <div class="value" id="omegaVal"></div>

      <label for="demping">demping d</label>
      <input id="demping" type="range" min="0" max="2" step="0.01" value="0.2">
      <div class="value" id="dempingVal"></div>

      <label for="A">A</label>
      <input id="A" type="range" min="-5" max="5" step="0.1" value="1">
      <div class="value" id="AVal"></div>

      <label for="B">B</label>
      <input id="B" type="range" min="-5" max="5" step="0.1" value="0">
      <div class="value" id="BVal"></div>

      <label for="C">C (verschuiving)</label>
      <input id="C" type="range" min="-5" max="5" step="0.1" value="0">
      <div class="value" id="CVal"></div>

      <label for="tmax">maximale tijd t</label>
      <input id="tmax" type="range" min="5" max="50" step="1" value="20">
      <div class="value" id="tmaxVal"></div>

      <!-- NIEUW: eigen y-as instellen -->
      <label for="customY">eigen y-as</label>
      <input id="customY" type="checkbox">
      <div class="value small-note">vink aan om y-as te kiezen</div>

      <label for="ymin">y-min</label>
      <input id="ymin" type="range" min="-5" max="5" step="0.1" value="-2">
      <div class="value" id="yminVal"></div>

      <label for="ymax">y-max</label>
      <input id="ymax" type="range" min="-5" max="5" step="0.1" value="2">
      <div class="value" id="ymaxVal"></div>
    </div>

    <div id="info"></div>

    <div id="canvasContainer">
      <canvas id="plot" width="800" height="400"></canvas>
    </div>

    <div style="margin-top: 15px;">
      <button class="preset-btn" onclick="setPreset('ongedempt')">
        Laat ongedempte trilling zien
      </button>
      <button class="preset-btn" onclick="setPreset('ondergedempt')">
        Laat onder gedempte trilling zien
      </button>
      <button class="preset-btn" onclick="setPreset('kritisch')">
        Laat kritisch gedempte beweging zien
      </button>
      <button class="preset-btn" onclick="setPreset('overgedempt')">
        Laat overgedempte beweging zien
      </button>
      <button class="preset-btn" onclick="setPreset('misleidend')">
        Voorbeeld misleidende grafiek
      </button>
      <p class="small-note">
        Tip: probeer dit in de les: klik eerst op “Laat onder gedempte trilling zien”.
        Daarna klik je op “Voorbeeld misleidende grafiek”. De trilling is bijna
        hetzelfde, maar door de keuze van de assen lijkt de beweging veel extremer.
      </p>
      <p class="small-note">
        Pas daarna steeds maar één slider tegelijk aan. Let op
        hoe de grafiek verandert (vorm, hoogte, snelheid, demping) én hoe je
        indruk verandert als je de assen anders instelt.
      </p>
    </div>
  </section>

  <section class="box">
    <h2>4. Link met misleidende grafieken</h2>
    <p>
      In het vervolg van het arrangement ga je grafieken uit nieuws en social media
      onderzoeken. Daarbij kun je deze applet gebruiken als “speeltuin”:
    </p>
    <ul>
      <li>Hoe verandert jouw indruk van de trilling als je tmax heel klein of heel groot maakt?</li>
      <li>Wat gebeurt er als je de grafiek omhoog of omlaag schuift met C?</li>
      <li>Wat gebeurt er als je de y-as “afsnijdt” door eigen y-min en y-max te kiezen?</li>
      <li>Hoe kun je een rustige trilling drukker, spannender of dramatischer laten lijken?</li>
    </ul>
    <p>
      Denk alvast na: als een journalist of influencer zelf de assen mag kiezen,
      welke instellingen zouden dan kunnen leiden tot een misleidende indruk?
    </p>
  </section>

  <script>
    const omegaSlider   = document.getElementById('omega');
    const dempingSlider = document.getElementById('demping');
    const ASlider       = document.getElementById('A');
    const BSlider       = document.getElementById('B');
    const CSlider       = document.getElementById('C');
    const tmaxSlider    = document.getElementById('tmax');

    const omegaVal   = document.getElementById('omegaVal');
    const dempingVal = document.getElementById('dempingVal');
    const AVal       = document.getElementById('AVal');
    const BVal       = document.getElementById('BVal');
    const CVal       = document.getElementById('CVal');
    const tmaxVal    = document.getElementById('tmaxVal');

    // NIEUW: eigen y-as
    const customYCheckbox = document.getElementById('customY');
    const yminSlider      = document.getElementById('ymin');
    const ymaxSlider      = document.getElementById('ymax');
    const yminVal         = document.getElementById('yminVal');
    const ymaxVal         = document.getElementById('ymaxVal');

    const info   = document.getElementById('info');
    const canvas = document.getElementById('plot');
    const ctx    = canvas.getContext('2d');

    function regimeText(d) {
      if (d === 0)       return "Ongedempt (normale trilling)";
      if (d > 0 && d < 1) return "Onder gedempt (trilling sterft uit)";
      if (d === 1)      return "Kritisch gedempt (geen trilling, snel terug)";
      if (d > 1)        return "Overgedempt (geen trilling, langzaam terug)";
      return "";
    }

    function xOfT(t, omega, d, A, B, C) {
      if (d === 0) {
        return A * Math.cos(omega * t) + B * Math.sin(omega * t) + C;
      } else if (d > 0 && d < 1) {
        const od = omega * Math.sqrt(1 - d * d);
        return Math.exp(-d * t) *
               (A * Math.cos(od * t) + B * Math.sin(od * t)) + C;
      } else if (d === 1) {
        return Math.exp(-t) * (A + B * t) + C;
      } else {
        const r1 = -(d - Math.sqrt(d * d - 1));
        const r2 = -(d + Math.sqrt(d * d - 1));
        return A * Math.exp(r1 * t) + B * Math.exp(r2 * t) + C;
      }
    }

    function updateLabels() {
      const omega = parseFloat(omegaSlider.value);
      const d     = parseFloat(dempingSlider.value);
      const A     = parseFloat(ASlider.value);
      const B     = parseFloat(BSlider.value);
      const C     = parseFloat(CSlider.value);
      const tmax  = parseFloat(tmaxSlider.value);

      omegaVal.textContent   = omega.toFixed(2);
      dempingVal.textContent = d.toFixed(2);
      AVal.textContent       = A.toFixed(1);
      BVal.textContent       = B.toFixed(1);
      CVal.textContent       = C.toFixed(1);
      tmaxVal.textContent    = tmax.toFixed(0);

      yminVal.textContent = yminSlider.value;
      ymaxVal.textContent = ymaxSlider.value;

      info.textContent = "Soort trilling: " + regimeText(d);
    }

    function draw() {
      const omega = parseFloat(omegaSlider.value);
      const d     = parseFloat(dempingSlider.value);
      const A     = parseFloat(ASlider.value);
      const B     = parseFloat(BSlider.value);
      const C     = parseFloat(CSlider.value);
      const tmax  = parseFloat(tmaxSlider.value);

      const N  = 600;
      const ts = [];
      const xs = [];
      for (let i = 0; i <= N; i++) {
        const t = (i / N) * tmax;
        ts.push(t);
        xs.push(xOfT(t, omega, d, A, B, C));
      }

      let xmin = 0;
      let xmax = tmax;
      let ymin, ymax;

      if (customYCheckbox.checked) {
        ymin = parseFloat(yminSlider.value);
        ymax = parseFloat(ymaxSlider.value);
      } else {
        ymin = Math.min(...xs);
        ymax = Math.max(...xs);
      }
      if (ymax <= ymin) {
        ymax = ymin + 1;
      }

      const w = canvas.width;
      const h = canvas.height;

      ctx.clearRect(0, 0, w, h);

      // ASSEN + schaalverdeling
      ctx.save();
      ctx.strokeStyle = "#888";
      ctx.lineWidth = 1;
      ctx.font = "12px sans-serif";
      ctx.fillStyle = "#000";

      // x-as (tijd) bij y=0
      if (0 >= ymin && 0 <= ymax) {
        const y0 = h * (1 - (0 - ymin) / (ymax - ymin));
        ctx.beginPath();
        ctx.moveTo(0, y0);
        ctx.lineTo(w, y0);
        ctx.stroke();
      }

      // y-as (uitwijking) bij t=0
      if (xmin <= 0 && 0 <= xmax) {
        const x0 = (0 - xmin) / (xmax - xmin) * w;
        ctx.beginPath();
        ctx.moveTo(x0, 0);
        ctx.lineTo(x0, h);
        ctx.stroke();
      }

      // x-ticks
      ctx.textAlign = "center";
      ctx.textBaseline = "top";
      const nTicks = 5;
      for (let i = 0; i <= nTicks; i++) {
        const tt = xmin + (i / nTicks) * (xmax - xmin);
        const px = (tt - xmin) / (xmax - xmin) * w;
        ctx.beginPath();
        ctx.moveTo(px, h - 5);
        ctx.lineTo(px, h);
        ctx.stroke();
        ctx.fillText(tt.toFixed(1), px, h - 18);
      }

      // y-ticks
      ctx.textAlign = "right";
      ctx.textBaseline = "middle";
      for (let i = 0; i <= nTicks; i++) {
        const yy = ymin + (i / nTicks) * (ymax - ymin);
        const py = h * (1 - (yy - ymin) / (ymax - ymin));
        ctx.beginPath();
        ctx.moveTo(0, py);
        ctx.lineTo(5, py);
        ctx.stroke();
        ctx.fillText(yy.toFixed(1), 35, py);
      }

      // as-labels
      ctx.textAlign = "center";
      ctx.textBaseline = "bottom";
      ctx.fillText("tijd t", w / 2, h - 2);

      ctx.save();
      ctx.translate(10, h / 2);
      ctx.rotate(-Math.PI / 2);
      ctx.textAlign = "center";
      ctx.textBaseline = "top";
      ctx.fillText("uitwijking x(t)", 0, 0);
      ctx.restore();

      ctx.restore();

      // GRAFIEK zelf
      ctx.beginPath();
      ctx.strokeStyle = "#000";
      ctx.lineWidth = 1.5;

      for (let i = 0; i <= N; i++) {
        const t = ts[i];
        const x = xs[i];

        const px = (t - xmin) / (xmax - xmin) * w;
        const py = h * (1 - (x - ymin) / (ymax - ymin));

        if (i === 0) {
          ctx.moveTo(px, py);
        } else {
          ctx.lineTo(px, py);
        }
      }
      ctx.stroke();
    }

    function updateAll() {
      updateLabels();
      draw();
    }

    function setPreset(type) {
      if (type === 'ongedempt') {
        dempingSlider.value = 0;
        omegaSlider.value   = 2;
        ASlider.value       = 2;
        BSlider.value       = 0;
        CSlider.value       = 0;
        tmaxSlider.value    = 20;
        customYCheckbox.checked = false;

      } else if (type === 'ondergedempt') {
        dempingSlider.value = 0.2;
        omegaSlider.value   = 2;
        ASlider.value       = 2;
        BSlider.value       = 0;
        CSlider.value       = 0;
        tmaxSlider.value    = 20;
        customYCheckbox.checked = false;

      } else if (type === 'kritisch') {
        dempingSlider.value = 1.0;
        omegaSlider.value   = 2;
        ASlider.value       = 2;
        BSlider.value       = 1;
        CSlider.value       = 0;
        tmaxSlider.value    = 10;
        customYCheckbox.checked = false;

      } else if (type === 'overgedempt') {
        dempingSlider.value = 1.5;
        omegaSlider.value   = 2;
        ASlider.value       = 2;
        BSlider.value       = -1;
        CSlider.value       = 0;
        tmaxSlider.value    = 10;
        customYCheckbox.checked = false;

      } else if (type === 'misleidend') {
        // CONCREET VOORBEELD MISLEIDENDE GRAFIEK
        // Bijna dezelfde trilling als ondergedempt,
        // maar we kiezen een korte tijd en een "afgesneden" y-as.
        dempingSlider.value = 0.2;
        omegaSlider.value   = 2;
        ASlider.value       = 1.2;
        BSlider.value       = 0;
        CSlider.value       = 0.8;
        tmaxSlider.value    = 5;

        customYCheckbox.checked = true;
        yminSlider.value = 0.7;  // y-as begint niet bij 0 -> vergroot verschillen
        ymaxSlider.value = 1.1;
      }

      updateAll();
      document.getElementById('applet').scrollIntoView({
        behavior: 'smooth',
        block: 'start'
      });
    }

    [
      omegaSlider,
      dempingSlider,
      ASlider,
      BSlider,
      CSlider,
      tmaxSlider,
      yminSlider,
      ymaxSlider
    ].forEach(el => el.addEventListener('input', updateAll));

    customYCheckbox.addEventListener('change', updateAll);

    updateAll();
  </script>
</body>
</html>
